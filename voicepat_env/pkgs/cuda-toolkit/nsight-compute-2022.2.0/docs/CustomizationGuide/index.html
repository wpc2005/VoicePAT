<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-us" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="copyright" content="(C) Copyright 2005"></meta>
      <meta name="DC.rights.owner" content="(C) Copyright 2005"></meta>
      <meta name="DC.Type" content="concept"></meta>
      <meta name="DC.Title" content="Customization Guide"></meta>
      <meta name="abstract" content="Nsight Compute Customization Guide."></meta>
      <meta name="description" content="Nsight Compute Customization Guide."></meta>
      <meta name="DC.Coverage" content="Developer Interfaces"></meta>
      <meta name="DC.subject" content="Customization Guide"></meta>
      <meta name="keywords" content="Customization Guide"></meta>
      <meta name="DC.Format" content="XHTML"></meta>
      <meta name="DC.Identifier" content="abstract"></meta>
      <link rel="stylesheet" type="text/css" href="../common/formatting/commonltr.css"></link>
      <link rel="stylesheet" type="text/css" href="../common/formatting/site.css"></link>
      <title>Customization Guide :: Nsight Compute Documentation</title>
      <!--[if lt IE 9]>
      <script src="../common/formatting/html5shiv-printshiv.min.js"></script>
      <![endif]-->
      <script type="text/javascript" charset="utf-8" src="../common/scripts/tynt/tynt.js"></script>
      --&gt;
      
      <script src="https://assets.adobedtm.com/5d4962a43b79/c1061d2c5e7b/launch-191c2462b890.min.js"></script>
      <script type="text/javascript" charset="utf-8" src="../common/formatting/jquery.min.js"></script>
      <script type="text/javascript" charset="utf-8" src="../common/formatting/jquery.ba-hashchange.min.js"></script>
      <script type="text/javascript" charset="utf-8" src="../common/formatting/jquery.scrollintoview.min.js"></script>
      <script type="text/javascript" src="../search/htmlFileList.js"></script>
      <script type="text/javascript" src="../search/htmlFileInfoList.js"></script>
      <script type="text/javascript" src="../search/nwSearchFnt.min.js"></script>
      <script type="text/javascript" src="../search/stemmers/en_stemmer.min.js"></script>
      <script type="text/javascript" src="../search/index-1.js"></script>
      <script type="text/javascript" src="../search/index-2.js"></script>
      <script type="text/javascript" src="../search/index-3.js"></script>
      <link rel="canonical" href="https://developer.nvidia.com/CustomizationGuide/index.html"></link>
      <link rel="stylesheet" type="text/css" href="../common/formatting/qwcode.highlight.css"></link>
   </head>
   <body>
      
      <header id="header"><span id="company">NVIDIA</span><span id="site-title">Nsight Compute Documentation</span><form id="search" method="get" action="search">
            <input type="text" name="search-text"></input><fieldset id="search-location">
               <legend>Search In:</legend>
               <label><input type="radio" name="search-type" value="site"></input>Entire Site</label>
               <label><input type="radio" name="search-type" value="document"></input>Just This Document</label></fieldset>
            <button type="reset">clear search</button>
            <button id="submit" type="submit">search</button></form>
      </header>
      <div id="site-content">
         <nav id="site-nav">
            <div class="category closed"><a href="../index.html" title="The root of the site.">Nsight Compute
                  v2022.2.0</a></div>
            <div class="category"><a href="index.html" title="Customization Guide">Customization Guide</a></div>
            <ul>
               <li>
                  <div class="section-link"><a href="#introduction">1.&nbsp;Introduction</a></div>
               </li>
               <li>
                  <div class="section-link"><a href="#sections">2.&nbsp;Sections</a></div>
                  <ul>
                     <li>
                        <div class="section-link"><a href="#section-files">2.1.&nbsp;Section Files</a></div>
                     </li>
                     <li>
                        <div class="section-link"><a href="#section-definition">2.2.&nbsp;Section Definition</a></div>
                     </li>
                     <li>
                        <div class="section-link"><a href="#metric-options">2.3.&nbsp;Metric Options</a></div>
                     </li>
                     <li>
                        <div class="section-link"><a href="#section-missing">2.4.&nbsp;Missing Sections</a></div>
                     </li>
                     <li>
                        <div class="section-link"><a href="#section-derived-metrics">2.5.&nbsp;Derived Metrics</a></div>
                     </li>
                  </ul>
               </li>
               <li>
                  <div class="section-link"><a href="#rule-system">3.&nbsp;Rule System</a></div>
                  <ul>
                     <li>
                        <div class="section-link"><a href="#writing-rules">3.1.&nbsp;Writing Rules</a></div>
                     </li>
                     <li>
                        <div class="section-link"><a href="#nsight-compute-integration">3.2.&nbsp;Integration</a></div>
                     </li>
                     <li>
                        <div class="section-link"><a href="#rule-system-architecture">3.3.&nbsp;Rule System Architecture</a></div>
                     </li>
                     <li>
                        <div class="section-link"><a href="#nvrules-api">3.4.&nbsp;NvRules API</a></div>
                     </li>
                     <li>
                        <div class="section-link"><a href="#rule-file-api">3.5.&nbsp;Rule File API</a></div>
                     </li>
                     <li>
                        <div class="section-link"><a href="#rule-examples">3.6.&nbsp;Rule Examples</a></div>
                     </li>
                  </ul>
               </li>
               <li>
                  <div class="section-link"><a href="#python-report-interface">4.&nbsp;Python Report Interface</a></div>
                  <ul>
                     <li>
                        <div class="section-link"><a href="#unique_1226209496">4.1.&nbsp;Basic Usage</a></div>
                     </li>
                     <li>
                        <div class="section-link"><a href="#unique_88897912">4.2.&nbsp;NVTX Support</a></div>
                     </li>
                     <li>
                        <div class="section-link"><a href="#unique_1123248850">4.3.&nbsp;Sample Script</a></div>
                     </li>
                  </ul>
               </li>
               <li>
                  <div class="section-link"><a href="#source-counters">5.&nbsp;Source Counters</a></div>
               </li>
               <li>
                  <div class="section-link"><a href="#report-file-format">6.&nbsp;Report File Format</a></div>
                  <ul>
                     <li>
                        <div class="section-link"><a href="#report-file-format-version7">6.1.&nbsp;Version 7 Format</a></div>
                     </li>
                  </ul>
               </li>
            </ul>
         </nav>
         <div id="resize-nav"></div>
         <nav id="search-results">
            <h2>Search Results</h2>
            <ol></ol>
         </nav>
         
         <div id="contents-container">
            <div id="breadcrumbs-container">
               <div id="release-info">Customization Guide
                  (<a href="../pdf/CustomizationGuide.pdf">PDF</a>)
                  
                  -
                  
                  v2022.2.0
                  (<a href="https://developer.nvidia.com">older</a>)
                  -
                  Last updated April 11, 2022
                  -
                  <a href="mailto:devtools@nvidia.com?subject=Nsight Compute Documentation Feedback: Customization Guide">Send Feedback</a>
                  -
                  <span class="st_facebook"></span><span class="st_twitter"></span><span class="st_linkedin"></span><span class="st_reddit"></span><span class="st_slashdot"></span><span class="st_tumblr"></span><span class="st_sharethis"></span></div>
            </div>
            <article id="contents">
               <div class="topic nested0" id="abstract"><a name="abstract" shape="rect">
                     <!-- --></a><h2 class="title topictitle1"><a href="#abstract" name="abstract" shape="rect">Customization Guide</a></h2>
                  <div class="body conbody">
                     <p class="shortdesc">Nsight Compute Customization Guide.</p>
                     <p class="p">
                        User manual on customizing NVIDIA Nsight Compute tools.
                        Information on writing section files and python-based rules for automatic result analysis.
                        
                     </p>
                  </div>
               </div>
               <div class="topic concept nested0" id="introduction"><a name="introduction" shape="rect">
                     <!-- --></a><h2 class="title topictitle1"><a href="#introduction" name="introduction" shape="rect">1.&nbsp;Introduction</a></h2>
                  <div class="body conbody">
                     <p class="p">
                        The goal of <span class="keyword">NVIDIA Nsight Compute</span> is to design a profiling tool that can be easily extended
                        and customized by expert users. While we provide useful defaults, this allows adapting the reports to a
                        specific use case or to design new ways to investigate collected data.
                        All the following is data driven and does not require the tools to be recompiled.
                        
                     </p>
                     <p class="p">
                        While working with section files or rules files it is recommended to open the <dfn class="term">Sections/Rules</dfn> tool window
                        from the <dfn class="term">Profile</dfn> menu item. This tool window lists all sections and rules that were loaded. Rules are
                        grouped as children of their associated section or grouped in the <dfn class="term">[Independent Rules]</dfn> entry.
                        For files that failed to load, the table shows the error message.
                        Use the <dfn class="term">Reload</dfn> button to reload rule files from disk.
                        
                     </p>
                  </div>
               </div>
               <div class="topic concept nested0" id="sections"><a name="sections" shape="rect">
                     <!-- --></a><h2 class="title topictitle1"><a href="#sections" name="sections" shape="rect">2.&nbsp;Sections</a></h2>
                  <div class="body conbody">
                     <p class="p">
                        The <dfn class="term">Details</dfn> page consists of sections that focus on a specific part of the kernel analysis each.
                        Every section is defined by a corresponding section file that specifies the data to be collected
                        as well as the visualization used in the UI to present this data.
                        Simply modify a section file to add or modify what is collected.
                        
                     </p>
                  </div>
                  <div class="topic concept nested1" id="section-files"><a name="section-files" shape="rect">
                        <!-- --></a><h3 class="title topictitle2"><a href="#section-files" name="section-files" shape="rect">2.1.&nbsp;Section Files</a></h3>
                     <div class="body conbody">
                        <p class="p">
                           By default, the section files are stored in the <samp class="ph codeph">sections</samp> sub-folder of the
                           <span class="keyword">NVIDIA Nsight Compute</span> install directory.
                           Each section is defined in a separate file with the .section file extension.
                           Section files are loaded automatically at the time the UI connects to a target application or
                           the command line profiler is launched. That way, any changes to section files become immediately
                           available in the next profile run.
                           
                        </p>
                        <p class="p">
                           A section file is a text representation of a <dfn class="term">Google Protocol Buffer</dfn> message. The full definition of all
                           available fields of a section message is given in <a class="xref" href="index.html#section-definition" shape="rect">Section Definition</a>.
                           In short, each section consists of
                           a unique <dfn class="term">Identifier</dfn> (no spaces allowed),
                           a <dfn class="term">Display Name</dfn>,
                           an optional <dfn class="term">Order</dfn> value (for sorting the sections in the <dfn class="term">Details</dfn> page),
                           an optional <dfn class="term">Description</dfn> providing guidance to the user,
                           an optional header table,
                           and an optional body with additional UI elements.
                           A small example of a very simple section is:
                           
                        </p>
                        <div class="p"><pre class="pre screen" xml:space="preserve">
Identifier: "SampleSection"
DisplayName: "Sample Section"
Description: "This sample section shows information on active warps and cycles."
Header {
  Metrics {
    Label: "Active Warps"
    Name: "smsp__active_warps_avg"
  }
  Metrics {
    Label: "Active Cycles"
    Name: "smsp__active_cycles_avg"
  }
}
        </pre></div>
                        <p class="p">
                           On data collection, this section will cause the two PerfWorks metrics <samp class="ph codeph">smsp__active_warps_avg</samp> and
                           <samp class="ph codeph">smsp__active_cycles_avg</samp> to be collected.
                           
                        </p>
                        <div class="fig fignone"><span class="desc figdesc">The section is shown on the Details page like this:</span><br clear="none"></br><div class="imagecenter"><img class="image imagecenter" src="graphics/section-files.png"></img></div><br clear="none"></br></div>
                        <p class="p">
                           More advanced elements can be used in the body of a section. Currently, <span class="keyword">NVIDIA Nsight Compute</span> supports tables and
                           various bar charts. The following example shows how to use these in a slightly more complex example.
                           The usage of regexes is allowed in tables and charts in the section <dfn class="term">Body</dfn> only and follows the format <samp class="ph codeph">regex:</samp>
                           followed by the actual regex to match <dfn class="term">PerfWorks</dfn> metric names.
                           
                        </p>
                        <p class="p">
                           The supported list of metrics that can be used in sections can be queried using <span class="keyword">NVIDIA Nsight Compute CLI</span> with
                           option <samp class="ph codeph">--query-metrics</samp>. Each of these metrics can be used in any section and will be automatically be
                           collected if they appear in any enabled section. Look at all the shipping sections to see how they are implemented.
                           
                        </p>
                        <div class="p"><pre class="pre screen" xml:space="preserve">
Identifier: "SampleSection"
DisplayName: "Sample Section"
Description: "This sample section shows various metrics."
Header {
  Metrics {
    Label: "Active Warps"
    Name: "smsp__active_warps_avg"
  }
  Metrics {
    Label: "Active Cycles"
    Name: "smsp__active_cycles_avg"
  }
}
Body {
  Items {
    Table {
      Label: "Example Table"
      Rows: 2
      Columns: 1
      Metrics {
        Label: "Avg. Issued Instructions Per Scheduler"
        Name: "smsp__inst_issued_avg"
      }
      Metrics {
        Label: "Avg. Executed Instructions Per Scheduler"
        Name: "smsp__inst_executed_avg"
      }
    }
  }
  Items {
    Table {
      Label: "Metrics Table"
      Columns: 2
      Order: ColumnMajor
      Metrics {
        Name: "regex:.*__elapsed_cycles_sum"
      }
    }
  }
  Items {
    BarChart {
      Label: "Metrics Chart"
      CategoryAxis {
        Label: "Units"
      }
      ValueAxis {
        Label: "Cycles"
      }
      Metrics {
        Name: "regex:.*__elapsed_cycles_sum"
      }
    }
  }
}
        </pre></div>
                        <div class="fig fignone"><span class="desc figdesc">And the output of this section in the UI shows up as:</span><br clear="none"></br><div class="imagecenter"><img class="image imagecenter" src="graphics/section-files-2.png"></img></div><br clear="none"></br></div>
                     </div>
                  </div>
                  <div class="topic concept nested1" id="section-definition"><a name="section-definition" shape="rect">
                        <!-- --></a><h3 class="title topictitle2"><a href="#section-definition" name="section-definition" shape="rect">2.2.&nbsp;Section Definition</a></h3>
                     <div class="body conbody">
                        <p class="p">
                           Protocol buffer definitions are in the <span class="keyword">NVIDIA Nsight Compute</span> installation directory under <samp class="ph codeph">extras/FileFormat</samp>.
                           
                        </p>
                        <p class="p">
                           To see the list of available <dfn class="term">PerfWorks</dfn> metrics for any device or chip,
                           use the <samp class="ph codeph">--query-metrics</samp> option of the <span class="keyword">NVIDIA Nsight Compute CLI</span>.
                           
                        </p>
                     </div>
                  </div>
                  <div class="topic concept nested1" id="metric-options"><a name="metric-options" shape="rect">
                        <!-- --></a><h3 class="title topictitle2"><a href="#metric-options" name="metric-options" shape="rect">2.3.&nbsp;Metric Options</a></h3>
                     <div class="body conbody">
                        <p class="p">
                           Sections allow the user to specify alternative options for metrics that have a different metric name on
                           different GPU architectures. Metric options use a min-arch/max-arch range filter, replacing the base
                           metric with the first metric option for which the current GPU architecture matches the filter. While not
                           strictly enforced, options for a base metric are expected to share the same meaning and subsequently unit,
                           etc., with the base metric. In addition to its alternatives, the base metric can be filtered by the same criteria
                           (currently min/max architecture). This is useful for metrics that are only available for certain architectures.
                           
                        </p>
                     </div>
                  </div>
                  <div class="topic concept nested1" id="section-missing"><a name="section-missing" shape="rect">
                        <!-- --></a><h3 class="title topictitle2"><a href="#section-missing" name="section-missing" shape="rect">2.4.&nbsp;Missing Sections</a></h3>
                     <div class="body conbody">
                        <p class="p">
                           If new or updated section files are not used by <span class="keyword">NVIDIA Nsight Compute</span>, it is most commonly one of two reasons:
                           
                        </p>
                        <p class="p"><strong class="ph b">The file is not found:</strong> Section files must have the <samp class="ph codeph">.section</samp> extension.
                           They must also be on the section search path. The default search path is the <samp class="ph codeph">sections</samp> directory within the installation directory.
                           In <span class="keyword">NVIDIA Nsight Compute CLI</span>, the search paths can be overwritten using the <samp class="ph codeph">--section-folder</samp> and <samp class="ph codeph">--section-folder-recursive</samp> options.
                           In <span class="keyword">NVIDIA Nsight Compute</span>, the search path can be configured in the <dfn class="term">Profile</dfn> options.
                           
                        </p>
                        <p class="p"><strong class="ph b">Syntax errors:</strong> If the file is found but has syntax errors, it will not be available for metric collection. However, error messages are reported
                           for easier debugging.
                           In <span class="keyword">NVIDIA Nsight Compute CLI</span>, use the <samp class="ph codeph">--list-sections</samp> option to get a list of error messages, if any.
                           In <span class="keyword">NVIDIA Nsight Compute</span>, error messages are reported in the <dfn class="term">Sections/Rules Info</dfn> tool window.
                           
                        </p>
                     </div>
                  </div>
                  <div class="topic concept nested1" id="section-derived-metrics"><a name="section-derived-metrics" shape="rect">
                        <!-- --></a><h3 class="title topictitle2"><a href="#section-derived-metrics" name="section-derived-metrics" shape="rect">2.5.&nbsp;Derived Metrics</a></h3>
                     <div class="body conbody">
                        <p class="p">
                           Derived Metrics allows you to define new metrics composed of constants or existing metrics directly in a section file.
                           The new metrics are computed at collection time and added permanently to the profile result in the report.
                           They can then subsequently be used for any tables, charts, rules, etc.
                           
                        </p>
                        <div class="p"><span class="keyword">NVIDIA Nsight Compute</span> currently supports the following syntax for defining derived metrics in section file:
                           <pre class="pre screen" xml:space="preserve">
MetricDefinitions {
  MetricDefinitions {
    Name: "derived_metric_name"
    Expression: "derived_metric_expr"
  }
  MetricDefinitions {
    ...
  }
  ...
}
            </pre>
                           
                           
                           
                           The actual metric expression is defined as follows:
                           <pre class="pre screen" xml:space="preserve">
derived_metric_expr ::= operand operator operand
operator            ::= + | - | * | /
operand             ::= metric | constant
metric              ::= (an existing metric name)
constant            ::= double | uint64
double              ::= (double-precision number of the form "N.(M)?", e.g. "5." or "0.3109")
uint64              ::= (64-bit unsigned integer number of the form "N", e.g. "2029")
            </pre>
                           
                           
                           
                           Operators are defined as follows:
                           <pre class="pre screen" xml:space="preserve">
For op in (+ | - | *): For each element in a metric it is applied to, the expression left-hand side op-combined with expression right-hand side.
For op in (/): For each element in a metric it is applied to, the expression left-hand side op-combined with expression right-hand side. If the right-hand side operand is of integer-type, and 0, the result is the left-hand side value.
            </pre>
                           
                           
                           
                           Since metrics can contain regular values and/or instanced values, elements are combined as below.
                           Constants are treated as metrics with only a regular value.
                           <pre class="pre screen" xml:space="preserve">
1. Regular values are operator-combined.
a + b

2. If both metrics have no correlation ids, the first N values are operator-combined, where N is the minimum of the number of elements in both metrics.
a1 + b1
a2 + b2
a3
a4

3. Else if both metrics have correlation ids, the sets of correlation ids from both metrics are joined and then operator-combined as applicable.
a1 + b1
a2
b3
a4 + b4
b5

4. Else if only the left-hand side metric has correlation ids, the right-hand side regular metric value is operator-combined with every element of the left-hand side metric.
a1 + b
a2 + b
a3 + b

5. Else if only the right-hand side metric has correlation ids, the right-hand side element values are operator-combined with the regular metric value of the left-hand side metric.
a + b1 + b2 + b3
            </pre></div>
                        <p class="p">
                           In all operations, the value kind of the left-hand side operand is used. If the right-hand side operand has a different value
                           kind, it is converted.
                           If the left-hand side operand is a string-kind, it is returned unchanged.
                           
                        </p>
                        <div class="p">
                           Examples for derived metrics are <samp class="ph codeph">derived__avg_thread_executed</samp>, which provides a hint on the number of threads executed on average at each instruction,
                           and <samp class="ph codeph">derived__uncoalesced_l2_transactions_global</samp>, which indicates the ratio of actual L2 transactions vs. ideal L2 transactions at each applicable instruction.
                           <pre class="pre screen" xml:space="preserve">
MetricDefinitions {
  MetricDefinitions {
    Name: "derived__avg_thread_executed"
    Expression: "thread_inst_executed_true / inst_executed"
  }
  MetricDefinitions {
    Name: "derived__uncoalesced_l2_transactions_global"
    Expression: "memory_l2_transactions_global / memory_ideal_l2_transactions_global"
  }
  MetricDefinitions {
    Name: "sm__sass_thread_inst_executed_op_ffma_pred_on_x2"
    Expression: "sm__sass_thread_inst_executed_op_ffma_pred_on.sum.peak_sustained * 2"
  }
}
            </pre></div>
                     </div>
                  </div>
               </div>
               <div class="topic concept nested0" id="rule-system"><a name="rule-system" shape="rect">
                     <!-- --></a><h2 class="title topictitle1"><a href="#rule-system" name="rule-system" shape="rect">3.&nbsp;Rule System</a></h2>
                  <div class="body conbody">
                     <p class="p"><span class="keyword">NVIDIA Nsight Compute</span> features a new Python-based rule system.
                        It is designed as the successor to the <dfn class="term">Expert System</dfn> (un)guided analysis in
                        NVIDIA Visual Profiler, but meant to be more flexible and more easily
                        extensible to different use cases and APIs.
                        
                     </p>
                  </div>
                  <div class="topic concept nested1" id="writing-rules"><a name="writing-rules" shape="rect">
                        <!-- --></a><h3 class="title topictitle2"><a href="#writing-rules" name="writing-rules" shape="rect">3.1.&nbsp;Writing Rules</a></h3>
                     <div class="body conbody">
                        <p class="p">
                           To create a new rule, you need to create a new text file with the extension <samp class="ph codeph">.py</samp> and place it at some
                           location that is detectable by the tool (see Nsight Compute Integration on how to specify the search path for
                           rules). At a minimum, the rule file must implement two functions, <samp class="ph codeph">get_identifier</samp> and <samp class="ph codeph">apply</samp>.
                           See Rule File API for a description of all functions supported in rule files.
                           See NvRules for details on the interface available in the rule's <samp class="ph codeph">apply</samp> function.
                           
                        </p>
                     </div>
                  </div>
                  <div class="topic concept nested1" id="nsight-compute-integration"><a name="nsight-compute-integration" shape="rect">
                        <!-- --></a><h3 class="title topictitle2"><a href="#nsight-compute-integration" name="nsight-compute-integration" shape="rect">3.2.&nbsp;Integration</a></h3>
                     <div class="body conbody">
                        <p class="p">
                           The rule system is integrated into <span class="keyword">NVIDIA Nsight Compute</span> as part of the profile report view.
                           When you profile a kernel, available rules will be shown in the report's <dfn class="term">Details</dfn> page.
                           You can either select to apply all available rules at once by clicking <dfn class="term">Apply Rules</dfn> at the
                           top of the page, or apply rules individually.
                           Once applied, the rule results will be added to the current report.
                           By default, all rules are applied automatically.
                           
                        </p>
                        <div class="fig fignone"><span class="desc figdesc">Section with a single Bottleneck rule available.</span><br clear="none"></br><div class="imagecenter"><img class="image imagecenter" src="graphics/integration-1.png"></img></div><br clear="none"></br></div>
                        <div class="fig fignone"><span class="desc figdesc">The same section with the Bottleneck rule applied.
                              It added a single message to the report.</span><br clear="none"></br><div class="imagecenter"><img class="image imagecenter" src="graphics/integration-2.png"></img></div><br clear="none"></br></div>
                        <div class="fig fignone"><span class="desc figdesc">The section Rule has two associated rules, Basic Template Rule and Advanced Template Rule.
                              The latter is not yet applied. Rules can add various UI elements,
                              including warning and error messages as well as charts and tables.</span><br clear="none"></br><div class="imagecenter"><img class="image imagecenter" src="graphics/integration-3.png"></img></div><br clear="none"></br></div>
                        <div class="fig fignone"><span class="desc figdesc">Some rules are applied independently from sections.
                              They are shown under Independent Rules.</span><br clear="none"></br><div class="imagecenter"><img class="image imagecenter" src="graphics/integration-4.png"></img></div><br clear="none"></br></div>
                     </div>
                  </div>
                  <div class="topic concept nested1" id="rule-system-architecture"><a name="rule-system-architecture" shape="rect">
                        <!-- --></a><h3 class="title topictitle2"><a href="#rule-system-architecture" name="rule-system-architecture" shape="rect">3.3.&nbsp;Rule System Architecture</a></h3>
                     <div class="body conbody">
                        <p class="p">
                           The rule system consists of the Python interpreter, the <dfn class="term">NvRules C++ interface</dfn>,
                           the <dfn class="term">NvRules Python interface</dfn> (NvRules.py) and a set of rule files.
                           Each rule file is valid Python code that imports the NvRules.py module,
                           adheres to certain standards defined by the <a class="xref" href="index.html#rule-file-api" shape="rect">Rule File API</a> and is called to from the tool.
                           
                        </p>
                        <p class="p">
                           When applying a rule, a handle to the rule <dfn class="term">Context</dfn> is provided to its apply function.
                           This context captures most of the functionality that is available to rules as part of the <a class="xref" href="index.html#nvrules-api" shape="rect">NvRules API</a>.
                           In addition, some functionality is provided directly by the NvRules module, e.g. for global error reporting.
                           Finally, since rules are valid Python code, they can use regular libraries and language functionality
                           that ship with Python as well.
                           
                        </p>
                        <p class="p">
                           From the rule <dfn class="term">Context</dfn>, multiple further objects can be accessed, e.g.
                           the <dfn class="term">Frontend</dfn>, <dfn class="term">Ranges</dfn> and <dfn class="term">Actions</dfn>.
                           It should be noted that those are only interfaces, i.e. the actual implementation can vary from tool to tool
                           that decides to implement this functionality.
                           
                        </p>
                        <p class="p">
                           Naming of these interfaces is chosen to be as API-independent as possible, i.e. not to imply CUDA-specific semantics.
                           However, since many compute and graphics APIs map to similar concepts, it can easily be mapped to CUDA terminology, too.
                           A <dfn class="term">Range</dfn> refers to a CUDA stream, an Action refers to a single CUDA kernel instance.
                           Each action references several <dfn class="term">Metrics</dfn> that have been collected during profiling
                           (e.g. <samp class="ph codeph">instructions executed</samp>) or are statically available (e.g. the launch configuration).
                           <dfn class="term">Metrics</dfn> are accessed via their names from the <dfn class="term">Action</dfn>.
                           
                        </p>
                        <p class="p">
                           Each CUDA stream can contain any number of kernel (or other device activity) instances and so each <dfn class="term">Range</dfn>
                           can reference one or more <dfn class="term">Actions</dfn>. However, currently only a single <dfn class="term">Action</dfn>
                           per <dfn class="term">Range</dfn> will be available, as only a single CUDA kernel can be profiled at once.
                           
                        </p>
                        <p class="p">
                           The <dfn class="term">Frontend</dfn> provides an interface to manipulate the tool UI by adding messages or graphical elements such
                           as line and bar charts or tables.
                           The most common use case is for a rule to show at least one message, stating the result to the user.
                           This could be as simple as "No issues have been detected," or contain direct hints as to how the user could improve the code,
                           e.g. "Memory is more heavily utilized than Compute. Consider whether it is possible for the kernel to do more compute work."
                           
                        </p>
                     </div>
                  </div>
                  <div class="topic concept nested1" id="nvrules-api"><a name="nvrules-api" shape="rect">
                        <!-- --></a><h3 class="title topictitle2"><a href="#nvrules-api" name="nvrules-api" shape="rect">3.4.&nbsp;NvRules API</a></h3>
                     <div class="body conbody">
                        <p class="p">
                           The <dfn class="term">NvRules API</dfn> is defined as a C/C++ style interface, which is converted to the NvRules.py
                           Python module to be consumable by the rules.
                           As such, C++ class interfaces are directly converted to Python classes und functions.
                           See the <a class="xref" href="../NvRulesAPI/index.html#abstract" shape="rect">NvRules API</a>
                           documentation for the classes and functions
                           available in this interface.
                           
                        </p>
                     </div>
                  </div>
                  <div class="topic concept nested1" id="rule-file-api"><a name="rule-file-api" shape="rect">
                        <!-- --></a><h3 class="title topictitle2"><a href="#rule-file-api" name="rule-file-api" shape="rect">3.5.&nbsp;Rule File API</a></h3>
                     <div class="body conbody">
                        <p class="p">
                           The <dfn class="term">Rule File API</dfn> is the implicit contract between the rule Python file and the tool.
                           It defines which functions (syntactically and semantically) the Python file must provide to properly work as a rule.
                           
                        </p>
                        <div class="p"><strong class="ph b">Mandatory Functions</strong><ul class="ul">
                              <li class="li"><samp class="ph codeph">get_identifier()</samp>: Return the unique rule identifier string.
                                 
                              </li>
                              <li class="li"><samp class="ph codeph">apply(handle)</samp>: Apply this rule to the rule context provided by handle.
                                 Use <samp class="ph codeph">NvRules.get_context(handle)</samp> to obtain the <dfn class="term">Context</dfn> interface from handle.
                                 
                              </li>
                              <li class="li"><samp class="ph codeph">get_name()</samp>: Return the user-consumable display name of this rule.
                                 
                              </li>
                              <li class="li"><samp class="ph codeph">get_description()</samp>: Return the user-consumable description of this rule.
                                 
                              </li>
                           </ul><strong class="ph b">Optional Functions</strong><ul class="ul">
                              <li class="li"><samp class="ph codeph">get_section_identifier()</samp>:
                                 Return the unique section identifier that maps this rule to a section. Section-mapped rules will only
                                 be available if the corresponding section was collected. They implicitly assume that the metrics
                                 requested by the section are collected when the rule is applied.
                                 
                              </li>
                              <li class="li"><samp class="ph codeph">evaluate(handle)</samp>:
                                 
                                 <p class="p">
                                    Declare required metrics and rules that are necessary for this rule to be applied.
                                    Use <samp class="ph codeph">NvRules.require_metrics(handle, [...])</samp> to declare the list of metrics that must be
                                    collected prior to applying this rule.
                                    
                                 </p>
                                 <p class="p">
                                    Use e.g. <samp class="ph codeph">NvRules.require_rules(handle, [...])</samp> to declare the list of other rules that must
                                    be available before applying this rule. Those are the only rules that can be safely proposed by
                                    the <dfn class="term">Controller</dfn> interface.
                                    
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
                  <div class="topic concept nested1" id="rule-examples"><a name="rule-examples" shape="rect">
                        <!-- --></a><h3 class="title topictitle2"><a href="#rule-examples" name="rule-examples" shape="rect">3.6.&nbsp;Rule Examples</a></h3>
                     <div class="body conbody">
                        <p class="p">
                           The following example rule determines on which major GPU architecture a kernel was running.
                           
                        </p><pre class="pre screen" xml:space="preserve">
import NvRules

def get_identifier():
  return "GpuArch"

def apply(handle):
  ctx = NvRules.get_context(handle)
  action = ctx.range_by_idx(0).action_by_idx(0)
  ccMajor = action.metric_by_name("device__attribute_compute_capability_major").as_uint64()
  ctx.frontend().message("Running on major compute capability " + str(ccMajor))
        </pre></div>
                  </div>
               </div>
               <div class="topic concept nested0" id="python-report-interface"><a name="python-report-interface" shape="rect">
                     <!-- --></a><h2 class="title topictitle1"><a href="#python-report-interface" name="python-report-interface" shape="rect">4.&nbsp;Python Report Interface</a></h2>
                  <div class="body conbody">
                     <p class="p"><span class="keyword">NVIDIA Nsight Compute</span> features a Python-based interface
                        to interact with exported report files.
                        
                     </p>
                     <p class="p">
                        The module is called <samp class="ph codeph">ncu_report</samp> and works on any
                        version of Python newer than Python 3.4  <a name="fnsrc_1" href="#fntarg_1" shape="rect"><sup>1</sup></a>. It can be found in the
                        <samp class="ph codeph">extras/python</samp> directory of your <span class="keyword">NVIDIA Nsight Compute</span> package.
                        
                     </p>
                     <p class="p">
                        In order to use the Python module, you need a report file
                        generated by <span class="keyword">NVIDIA Nsight Compute</span>. You can obtain
                        such a file by saving it from the graphical interface or by using
                        the <samp class="ph codeph">--export</samp> flag of the command line tool.
                        
                     </p>
                     <p class="p">
                        The types and functions in the <samp class="ph codeph">ncu_report</samp> module
                        are a subset of the ones available in the NvRules API. The
                        documentation for this module is a usage guide. For a more formal
                        description of the exposed API, please refer to the the <a class="xref" href="../NvRulesAPI/index.html#abstract" shape="rect">
                           NvRules API</a> documentation.
                        
                     </p>
                  </div>
                  <div class="topic concept nested1" id="unique_1226209496"><a name="unique_1226209496" shape="rect">
                        <!-- --></a><h3 class="title topictitle2"><a href="#unique_1226209496" name="unique_1226209496" shape="rect">Basic Usage</a></h3>
                     <div class="body conbody">
                        <p class="p">
                           The module is called <samp class="ph codeph">ncu_report</samp> and can be
                           imported like most Python modules:
                           
                        </p><pre class="pre screen" xml:space="preserve">
&gt;&gt;&gt; import ncu_report
        </pre><p class="p"><strong class="ph b">Importing a report</strong></p>
                        <p class="p">
                           Once the module is imported, you can load a report file by
                           calling the <samp class="ph codeph">load_report</samp> function with the path
                           to the file. This function returns an object of type
                           <samp class="ph codeph">IContext</samp> which holds all the information
                           concerning that report.
                           
                        </p><pre class="pre screen" xml:space="preserve">
&gt;&gt;&gt; my_context = ncu_report.load_report("my_report.ncu-rep")
        </pre><p class="p"><strong class="ph b">Querying ranges</strong></p>
                        <p class="p">
                           When inspected through the Python module, kernel profiling
                           results are grouped in <dfn class="term">ranges</dfn> represented by an
                           <samp class="ph codeph">IRange</samp> object.
                           
                           You can inspect the number of <dfn class="term">ranges</dfn> contained in
                           the loaded report by calling the <samp class="ph codeph">num_ranges()</samp>
                           member function of an <samp class="ph codeph">IContext</samp> object and
                           retrieve a <dfn class="term">range</dfn> by its index using
                           <samp class="ph codeph">range_by_idx(index)</samp>.
                           
                        </p><pre class="pre screen" xml:space="preserve">
&gt;&gt;&gt; my_context.num_ranges()
1
&gt;&gt;&gt; my_range = report.range_by_idx(0)
        </pre><p class="p"><strong class="ph b">Querying actions</strong></p>
                        <p class="p">
                           Inside a range, kernel profiling results are called
                           <dfn class="term">actions</dfn>. You can query the number of
                           <dfn class="term">actions</dfn> by using the <samp class="ph codeph">num_actions</samp> of
                           an <samp class="ph codeph">IRange</samp> object.
                           
                        </p><pre class="pre screen" xml:space="preserve">
&gt;&gt;&gt; my_range.num_actions()
2
        </pre><p class="p">
                           In the same way <dfn class="term">ranges</dfn> can be obtained using their
                           indices, individual <dfn class="term">actions</dfn> can be obtained using
                           the <samp class="ph codeph">action_by_idx(index)</samp> method of the
                           <samp class="ph codeph">IRange</samp> object and are represented by the
                           <samp class="ph codeph">IAction</samp> class.
                           
                        </p><pre class="pre screen" xml:space="preserve">
&gt;&gt;&gt; my_action = my_range.action_by_idx(0)
        </pre><p class="p">
                           As explained previously, an <dfn class="term">action</dfn> represents a
                           single kernel profiling result. To query the kernel's name you
                           can use the <samp class="ph codeph">name()</samp> member function of the
                           <samp class="ph codeph">IAction</samp> class.
                           
                        </p><pre class="pre screen" xml:space="preserve">
&gt;&gt;&gt; my_action.name()
MyKernel
        </pre><p class="p"><strong class="ph b">Querying metrics</strong></p>
                        <p class="p">
                           To get a tuple of all the metric names available within that
                           <dfn class="term">action</dfn> use the <samp class="ph codeph">metric_names()</samp> method.
                           This is meant to be combined with the
                           <samp class="ph codeph">metric_by_name()</samp> method which returns an
                           <samp class="ph codeph">IMetric</samp> object.
                           
                           The metric names are the same as the ones you can use when using
                           the <samp class="ph codeph">--metrics</samp> flag with Nsight Compute.
                           
                           Once you have extracted a metric from an <dfn class="term">action</dfn>, you
                           can obtain its value by using one of three methods:
                           
                        </p>
                        <ul class="ul">
                           <li class="li"><samp class="ph codeph">as_string()</samp> to obtain its value as a Python
                              <samp class="ph codeph">str</samp></li>
                           <li class="li"><samp class="ph codeph">as_uint64()</samp> to obtain its value as a Python
                              <samp class="ph codeph">int</samp></li>
                           <li class="li"><samp class="ph codeph">as_double()</samp> to obtain its value as a Python
                              <samp class="ph codeph">float</samp></li>
                        </ul>
                        <p class="p">
                           For example, to print the display name of the GPU the kernel was
                           profiled on you can query the
                           <samp class="ph codeph">device__attribute_display_name</samp> metric.
                           
                        </p><pre class="pre screen" xml:space="preserve">
&gt;&gt;&gt; display_name_metric = my_action.metric_by_name('device__attribute_display_name')
&gt;&gt;&gt; display_name_metric.as_string()
'NVIDIA GeForce RTX 3060 Ti'
        </pre><p class="p">
                           Note that accessing a metric with the wrong type can lead to
                           unexpected (conversion) results.
                           
                        </p><pre class="pre screen" xml:space="preserve">
&gt;&gt;&gt; display_name_metric.as_double()
0.0
        </pre></div>
                  </div>
                  <div class="topic concept nested1" id="unique_88897912"><a name="unique_88897912" shape="rect">
                        <!-- --></a><h3 class="title topictitle2"><a href="#unique_88897912" name="unique_88897912" shape="rect">NVTX Support</a></h3>
                     <div class="body conbody">
                        <p class="p">
                           The <samp class="ph codeph">ncu_report</samp> has support for the NVIDIA Tools
                           Extension (NVTX). This comes through the
                           <samp class="ph codeph">INvtxState</samp> object which represents the NVTX
                           state of a profiled kernel.
                           
                        </p>
                        <p class="p">
                           An <samp class="ph codeph">INvtxState</samp> object can be obtained from an
                           action by using its <samp class="ph codeph">nvtx_state()</samp> method. It
                           exposes the <samp class="ph codeph">domains()</samp> method which returns a
                           tuple of integers representing the domains this kernel has state
                           in. These integers can be used with the
                           <samp class="ph codeph">domain_by_id(id)</samp> method to get an
                           <samp class="ph codeph">INvtxDomainInfo</samp> object which represents the
                           state of a domain.
                           
                        </p>
                        <p class="p">
                           The <samp class="ph codeph">INvtxDomainInfo</samp> can be used to obtain a
                           tuple of <dfn class="term">Push-Pop</dfn>, or <dfn class="term">Start-End</dfn> ranges
                           using the <samp class="ph codeph">push_pop_ranges()</samp> and
                           <samp class="ph codeph">start_end_ranges()</samp> methods.
                           
                        </p>
                        <p class="p">
                           There is also a <samp class="ph codeph">actions_by_nvtx</samp> member function in
                           the <samp class="ph codeph">IRange</samp> class which allows you to get a tuple of
                           actions matching the NVTX state described in its parameter.
                           
                        </p>
                        <p class="p">
                           The parameters for the <samp class="ph codeph">actions_by_nvtx</samp> function
                           are two lists of strings representing the state for which we want
                           to query the actions. The first parameter describes the NVTX
                           states to include while the second one describes the NVTX states
                           to exclude. These strings are in the same format as the ones used
                           with the <samp class="ph codeph">--nvtx-include</samp> and
                           <samp class="ph codeph">--nvtx-exclude</samp> options.
                           
                        </p>
                     </div>
                  </div>
                  <div class="topic concept nested1" id="unique_1123248850"><a name="unique_1123248850" shape="rect">
                        <!-- --></a><h3 class="title topictitle2"><a href="#unique_1123248850" name="unique_1123248850" shape="rect">Sample Script</a></h3>
                     <div class="body conbody">
                        <p class="p"><strong class="ph b">NVTX <dfn class="term">Push-Pop</dfn> range filtering</strong></p>
                        <p class="p">
                           This is a sample script which loads a report and prints the
                           names of all the profiled kernels which were wrapped inside
                           <samp class="ph codeph">BottomRange</samp> and <samp class="ph codeph">TopRange</samp><dfn class="term">Push-Pop ranges</dfn> of the default NVTX domain.
                           
                        </p><pre class="pre screen" xml:space="preserve">
#!/usr/bin/env python3

import sys

import ncu_report

if len(sys.argv) != 2:
    print("usage: {} report_file".format(sys.argv[0]), file=sys.stderr)
    sys.exit(1)

report = ncu_report.load_report(sys.argv[1])

for range_idx in range(report.num_ranges()):
    current_range = report.range_by_idx(range_idx)
    for action_idx in current_range.actions_by_nvtx(["BottomRange/*/TopRange"], []):
        action = current_range.action_by_idx(action_idx)
        print(action.name())
        </pre></div>
                  </div>
               </div>
               <div class="topic concept nested0" id="source-counters"><a name="source-counters" shape="rect">
                     <!-- --></a><h2 class="title topictitle1"><a href="#source-counters" name="source-counters" shape="rect">5.&nbsp;Source Counters</a></h2>
                  <div class="body conbody">
                     <p class="p">
                        The <dfn class="term">Source</dfn> page provides correlation of various metrics with CUDA-C, PTX and SASS source of the
                        application, depending on availability.
                        
                     </p>
                     <p class="p">
                        Which <dfn class="term">Source Counter</dfn> metrics are collected and the order in which they are displayed in this page is
                        controlled using section files, specifically using the <dfn class="term">ProfilerSectionMetrics</dfn> message type.
                        Each <dfn class="term">ProfilerSectionMetrics</dfn> defines one ordered group of metrics,
                        and can be assigned an optional <dfn class="term">Order</dfn> value.
                        This value defines the ordering among those groups in the <dfn class="term">Source</dfn> page.
                        This allows, for example, you to define a group of memory-related source counters in one and a
                        group of instruction-related counters in another section file.
                        
                     </p>
                     <div class="p"><pre class="pre screen" xml:space="preserve">
Identifier: "SourceMetrics"
DisplayName: "Custom Source Metrics"
Metrics {
  Order: 2
  Metrics {
    Label: "Instructions Executed"
    Name: "inst_executed"
  }
  Metrics {
    Label: ""
    Name: "collected_but_not_shown"
  }
}
        </pre></div>
                     <p class="p">
                        If a <dfn class="term">Source Counter</dfn> metric is given an empty label attribute in the section file,
                        it will be collected but not shown on the page.
                        
                     </p>
                     <div class="fig fignone"><span class="desc figdesc">Source Counter view example</span><br clear="none"></br><div class="imagecenter"><img class="image imagecenter" src="graphics/source-counters.png"></img></div><br clear="none"></br></div>
                  </div>
               </div>
               <div class="topic concept nested0" id="report-file-format"><a name="report-file-format" shape="rect">
                     <!-- --></a><h2 class="title topictitle1"><a href="#report-file-format" name="report-file-format" shape="rect">6.&nbsp;Report File Format</a></h2>
                  <div class="body conbody">
                     <p class="p">
                        This section documents the internals of the profiler report files (reports in the following)
                        as created by <span class="keyword">NVIDIA Nsight Compute</span>.
                        <strong class="ph b">The file format is subject to change in future releases without prior notice.</strong></p>
                  </div>
                  <div class="topic concept nested1" id="report-file-format-version7"><a name="report-file-format-version7" shape="rect">
                        <!-- --></a><h3 class="title topictitle2"><a href="#report-file-format-version7" name="report-file-format-version7" shape="rect">6.1.&nbsp;Version 7 Format</a></h3>
                     <div class="body conbody">
                        <p class="p">
                           Reports of version 7 are a combination of raw binary data and serialized Google Protocol Buffer version 2
                           messages (proto). All binary entries are stored as little endian.
                           Protocol buffer definitions are in the <span class="keyword">NVIDIA Nsight Compute</span> installation directory under
                           <samp class="ph codeph">extras/FileFormat</samp>.
                           
                        </p>
                        <div class="tablenoborder"><a name="report-file-format-version7__version7-top-level-format" shape="rect">
                              <!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="report-file-format-version7__version7-top-level-format" class="table" frame="border" border="1" rules="all">
                              <caption><span class="tablecap">Table 1. Top-level report file format</span></caption>
                              <thead class="thead" align="left">
                                 <tr class="row">
                                    <th class="entry" valign="top" width="25%" id="d54e1113" rowspan="1" colspan="1">Offset [bytes]</th>
                                    <th class="entry" valign="top" width="25%" id="d54e1116" rowspan="1" colspan="1">Entry</th>
                                    <th class="entry" valign="top" width="25%" id="d54e1119" rowspan="1" colspan="1">Type</th>
                                    <th class="entry" valign="top" width="25%" id="d54e1122" rowspan="1" colspan="1">Value</th>
                                 </tr>
                              </thead>
                              <tbody class="tbody">
                                 <tr class="row">
                                    <td class="entry" valign="top" width="25%" headers="d54e1113" rowspan="1" colspan="1">0</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1116" rowspan="1" colspan="1">Magic Number</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1119" rowspan="1" colspan="1">Binary</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1122" rowspan="1" colspan="1">NVP\0</td>
                                 </tr>
                                 <tr class="row">
                                    <td class="entry" valign="top" width="25%" headers="d54e1113" rowspan="1" colspan="1">4</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1116" rowspan="1" colspan="1">Integer</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1119" rowspan="1" colspan="1">Binary</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1122" rowspan="1" colspan="1">sizeof(File Header)</td>
                                 </tr>
                                 <tr class="row">
                                    <td class="entry" valign="top" width="25%" headers="d54e1113" rowspan="1" colspan="1">8</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1116" rowspan="1" colspan="1">File Header</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1119" rowspan="1" colspan="1">Proto</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1122" rowspan="1" colspan="1">Report version</td>
                                 </tr>
                                 <tr class="row">
                                    <td class="entry" valign="top" width="25%" headers="d54e1113" rowspan="1" colspan="1">8 + sizeof(File Header)</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1116" rowspan="1" colspan="1">Block 0</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1119" rowspan="1" colspan="1">Mixed</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1122" rowspan="1" colspan="1">CUDA CUBIN source, profile results, session information</td>
                                 </tr>
                                 <tr class="row">
                                    <td class="entry" valign="top" width="25%" headers="d54e1113" rowspan="1" colspan="1">8 + sizeof(File Header) + sizeof(Block 0)</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1116" rowspan="1" colspan="1">Block 1</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1119" rowspan="1" colspan="1">Mixed</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1122" rowspan="1" colspan="1">CUDA CUBIN source, profile results, session information</td>
                                 </tr>
                                 <tr class="row">
                                    <td class="entry" valign="top" width="25%" headers="d54e1113" rowspan="1" colspan="1">...</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1116" rowspan="1" colspan="1">...</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1119" rowspan="1" colspan="1">...</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1122" rowspan="1" colspan="1">...</td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <div class="tablenoborder"><a name="report-file-format-version7__version7-block-level-format" shape="rect">
                              <!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="report-file-format-version7__version7-block-level-format" class="table" frame="border" border="1" rules="all">
                              <caption><span class="tablecap">Table 2. Per-Block report file format</span></caption>
                              <thead class="thead" align="left">
                                 <tr class="row">
                                    <th class="entry" valign="top" width="25%" id="d54e1243" rowspan="1" colspan="1">Offset [bytes]</th>
                                    <th class="entry" valign="top" width="25%" id="d54e1246" rowspan="1" colspan="1">Entry</th>
                                    <th class="entry" valign="top" width="25%" id="d54e1249" rowspan="1" colspan="1">Type</th>
                                    <th class="entry" valign="top" width="25%" id="d54e1252" rowspan="1" colspan="1">Value</th>
                                 </tr>
                              </thead>
                              <tbody class="tbody">
                                 <tr class="row">
                                    <td class="entry" valign="top" width="25%" headers="d54e1243" rowspan="1" colspan="1">0</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1246" rowspan="1" colspan="1">Integer</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1249" rowspan="1" colspan="1">Binary</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1252" rowspan="1" colspan="1">sizeof(Block Header)</td>
                                 </tr>
                                 <tr class="row">
                                    <td class="entry" valign="top" width="25%" headers="d54e1243" rowspan="1" colspan="1">4</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1246" rowspan="1" colspan="1">Block Header</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1249" rowspan="1" colspan="1">Proto</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1252" rowspan="1" colspan="1">Number of entries per payload type, payload size</td>
                                 </tr>
                                 <tr class="row">
                                    <td class="entry" valign="top" width="25%" headers="d54e1243" rowspan="1" colspan="1">4 + sizeof(Block Header)</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1246" rowspan="1" colspan="1">Block Payload</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1249" rowspan="1" colspan="1">Mixed</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1252" rowspan="1" colspan="1">Payload (CUDA CUBIN sources, profile results, session information, string table)</td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <div class="tablenoborder"><a name="report-file-format-version7__version7-payload-level-format" shape="rect">
                              <!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="report-file-format-version7__version7-payload-level-format" class="table" frame="border" border="1" rules="all">
                              <caption><span class="tablecap">Table 3. Block payload report file format</span></caption>
                              <thead class="thead" align="left">
                                 <tr class="row">
                                    <th class="entry" valign="top" width="25%" id="d54e1327" rowspan="1" colspan="1">Offset [bytes]</th>
                                    <th class="entry" valign="top" width="25%" id="d54e1330" rowspan="1" colspan="1">Entry</th>
                                    <th class="entry" valign="top" width="25%" id="d54e1333" rowspan="1" colspan="1">Type</th>
                                    <th class="entry" valign="top" width="25%" id="d54e1336" rowspan="1" colspan="1">Value</th>
                                 </tr>
                              </thead>
                              <tbody class="tbody">
                                 <tr class="row">
                                    <td class="entry" valign="top" width="25%" headers="d54e1327" rowspan="1" colspan="1">0</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1330" rowspan="1" colspan="1">Integer</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1333" rowspan="1" colspan="1">Binary</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1336" rowspan="1" colspan="1">sizeof(Payload type 1, entry 1)</td>
                                 </tr>
                                 <tr class="row">
                                    <td class="entry" valign="top" width="25%" headers="d54e1327" rowspan="1" colspan="1">4</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1330" rowspan="1" colspan="1">Payload type 1, entry 1</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1333" rowspan="1" colspan="1">Proto</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1336" rowspan="1" colspan="1">&nbsp;</td>
                                 </tr>
                                 <tr class="row">
                                    <td class="entry" valign="top" width="25%" headers="d54e1327" rowspan="1" colspan="1">4 + sizeof(Payload type 1, entry 1)</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1330" rowspan="1" colspan="1">Integer</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1333" rowspan="1" colspan="1">Binary</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1336" rowspan="1" colspan="1">sizeof(Payload type 1, entry 2)</td>
                                 </tr>
                                 <tr class="row">
                                    <td class="entry" valign="top" width="25%" headers="d54e1327" rowspan="1" colspan="1">8 + sizeof(Payload type 1, entry 1)</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1330" rowspan="1" colspan="1">Payload type 1, entry 2</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1333" rowspan="1" colspan="1">Proto</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1336" rowspan="1" colspan="1">&nbsp;</td>
                                 </tr>
                                 <tr class="row">
                                    <td class="entry" valign="top" width="25%" headers="d54e1327" rowspan="1" colspan="1">...</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1330" rowspan="1" colspan="1">...</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1333" rowspan="1" colspan="1">...</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1336" rowspan="1" colspan="1">...</td>
                                 </tr>
                                 <tr class="row">
                                    <td class="entry" valign="top" width="25%" headers="d54e1327" rowspan="1" colspan="1">...</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1330" rowspan="1" colspan="1">Integer</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1333" rowspan="1" colspan="1">Binary</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1336" rowspan="1" colspan="1">sizeof(Payload type 2, entry 1)</td>
                                 </tr>
                                 <tr class="row">
                                    <td class="entry" valign="top" width="25%" headers="d54e1327" rowspan="1" colspan="1">...</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1330" rowspan="1" colspan="1">Payload type 2, entry 1</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1333" rowspan="1" colspan="1">Proto</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1336" rowspan="1" colspan="1">&nbsp;</td>
                                 </tr>
                                 <tr class="row">
                                    <td class="entry" valign="top" width="25%" headers="d54e1327" rowspan="1" colspan="1">...</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1330" rowspan="1" colspan="1">...</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1333" rowspan="1" colspan="1">...</td>
                                    <td class="entry" valign="top" width="25%" headers="d54e1336" rowspan="1" colspan="1">...</td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="topic concept nested0" id="notices-header"><a name="notices-header" shape="rect">
                     <!-- --></a><h2 class="title topictitle1"><a href="#notices-header" name="notices-header" shape="rect">Notices</a></h2>
                  <div class="topic reference nested1" id="notice"><a name="notice" shape="rect">
                        <!-- --></a><h3 class="title topictitle2"><a href="#notice" name="notice" shape="rect"></a></h3>
                     <div class="body refbody">
                        <div class="section">
                           <h3 class="title sectiontitle">Notice</h3>
                           <p class="p">ALL NVIDIA DESIGN SPECIFICATIONS, REFERENCE BOARDS, FILES, DRAWINGS, DIAGNOSTICS, LISTS, AND OTHER DOCUMENTS (TOGETHER AND
                              SEPARATELY, "MATERIALS") ARE BEING PROVIDED "AS IS." NVIDIA MAKES NO WARRANTIES, EXPRESSED, IMPLIED, STATUTORY, OR OTHERWISE
                              WITH RESPECT TO THE MATERIALS, AND EXPRESSLY DISCLAIMS ALL IMPLIED WARRANTIES OF NONINFRINGEMENT, MERCHANTABILITY, AND FITNESS
                              FOR A PARTICULAR PURPOSE. 
                           </p>
                           <p class="p">Information furnished is believed to be accurate and reliable. However, NVIDIA Corporation assumes no responsibility for the
                              consequences of use of such information or for any infringement of patents or other rights of third parties that may result
                              from its use. No license is granted by implication of otherwise under any patent rights of NVIDIA Corporation. Specifications
                              mentioned in this publication are subject to change without notice. This publication supersedes and replaces all other information
                              previously supplied. NVIDIA Corporation products are not authorized as critical components in life support devices or systems
                              without express written approval of NVIDIA Corporation.
                           </p>
                        </div>
                     </div>
                  </div>
                  <div class="topic reference nested1" id="trademarks"><a name="trademarks" shape="rect">
                        <!-- --></a><h3 class="title topictitle2"><a href="#trademarks" name="trademarks" shape="rect"></a></h3>
                     <div class="body refbody">
                        <div class="section">
                           <h3 class="title sectiontitle">Trademarks</h3>
                           <p class="p">NVIDIA and the NVIDIA logo are trademarks or registered trademarks of NVIDIA Corporation
                              in the U.S. and other countries.  Other company and product names may be trademarks of
                              the respective companies with which they are associated.
                           </p>
                        </div>
                     </div>
                  </div>
                  <div class="topic reference nested1" id="copyright-past-to-present"><a name="copyright-past-to-present" shape="rect">
                        <!-- --></a><h3 class="title topictitle2"><a href="#copyright-past-to-present" name="copyright-past-to-present" shape="rect"></a></h3>
                     <div class="body refbody">
                        <div class="section">
                           <h3 class="title sectiontitle">Copyright</h3>
                           <p class="p"> <span class="ph">2018</span>-<span class="ph">2022</span> NVIDIA
                              Corporation and affiliates. All rights reserved.
                           </p>
                           <p class="p">This product includes software developed by the Syncro Soft SRL (http://www.sync.ro/).</p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="fn"><a name="fntarg_1" href="#fnsrc_1" shape="rect"><sup>1</sup></a>  On Linux machines you
                  will also need a GNU-compatible libc and
                  <samp class="ph codeph">libgcc_s.so</samp>.
               </div>
               
               <hr id="contents-end"></hr>
               
            </article>
         </div>
      </div>
      <script language="JavaScript" type="text/javascript" charset="utf-8" src="../common/formatting/common.min.js"></script>
      <script language="JavaScript" type="text/javascript" charset="utf-8" src="../common/scripts/google-analytics/google-analytics-write.js"></script>
      <script language="JavaScript" type="text/javascript" charset="utf-8" src="../common/scripts/google-analytics/google-analytics-tracker.js"></script>
      <script type="text/javascript">_satellite.pageBottom();</script>
      <script type="text/javascript">var switchTo5x=true;</script><script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script><script type="text/javascript">stLight.options({publisher: "998dc202-a267-4d8e-bce9-14debadb8d92", doNotHash: false, doNotCopy: false, hashAddressBar: false});</script></body>
</html>